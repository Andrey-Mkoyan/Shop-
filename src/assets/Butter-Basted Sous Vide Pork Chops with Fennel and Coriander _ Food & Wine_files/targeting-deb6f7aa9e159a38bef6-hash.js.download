/*! For license information please see targeting-deb6f7aa9e159a38bef6-hash.js.LICENSE.txt */
!function(){var e={87268:function(){(()=>{var e={"./node_modules/hmacsha1/index.js":e=>{e.exports=function(e,t,n,r){function o(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function s(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}function c(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n=[80],r=1732584193,c=-271733879,u=-1732584194,d=271733878,p=-1009589776,l=0;l<e.length;l+=16){for(var f=r,m=c,h=u,g=d,w=p,v=0;v<80;v++){n[v]=v<16?e[l+v]:a(n[v-3]^n[v-8]^n[v-14]^n[v-16],1);var y=i(i(a(r,5),o(v,c,u,d)),i(i(p,n[v]),s(v)));p=d,d=u,u=a(c,30),c=r,r=y}r=i(r,f),c=i(c,m),u=i(u,h),d=i(d,g),p=i(p,w)}return[r,c,u,d,p]}function u(e){for(var t=[],n=(1<<r)-1,o=0;o<e.length*r;o+=r)t[o>>5]|=(e.charCodeAt(o/8)&n)<<32-r-o%32;return t}return n||(n="="),r||(r=8),function(e,t){return function(e){for(var t="",r=0;r<4*e.length;r+=3)for(var o=(e[r>>2]>>8*(3-r%4)&255)<<16|(e[r+1>>2]>>8*(3-(r+1)%4)&255)<<8|e[r+2>>2]>>8*(3-(r+2)%4)&255,s=0;s<4;s++)8*r+6*s>32*e.length?t+=n:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>6*(3-s)&63);return t}(function(e,t){var n=u(e);n.length>16&&(n=c(n,e.length*r));for(var o=[16],s=[16],i=0;i<16;i++)o[i]=909522486^n[i],s[i]=1549556828^n[i];var a=c(o.concat(u(t)),512+t.length*r);return c(s.concat(a),672)}(e,t))}(e,t)}},"./src/mdp.api.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n("./node_modules/hmacsha1/index.js"),o=n.n(r);const s=function(e){var t={local:"local.",dev:"dev.",newdev:"newdev.",test:"test.",prod:""},n=this;function r(e,t,r,s){var i=function(e){switch(e){case"addnewsletters":case"regstep1":case"regstep2":case"login":case"isalreadyamember":case"sociallogin":case"checkthirdpartyauth":case"subscribenewsletters":case"resetpassword":case"createprofile":case"contestentry":case"contestverify":case"newsletterstatus":case"sendoptoutlink":return"POST";case"updateprofile":case"unsubscribenewsletters":return"PUT";default:return"GET"}}(e),a=n.origin+n.basePath+function(e,t){switch(e){case"regstep1":return"/regStep1";case"regstep2":return"/regStep2";case"sendpassword":return"/sendPasswordToken/"+encodeURIComponent(t);case"login":return"/login";case"isalreadyamember":return"/isAlreadyAMember";case"sociallogin":return"/socialLogin";case"checkthirdpartyauth":return"/checkThirdPartyAuth";case"lookuppostalcode":return"/lookupPostalCode/"+encodeURIComponent(t);case"subscribenewsletters":return"/subscribeNewsletters";case"resetpassword":return"/resetPassword";case"getprofiletargeting":return"/profile/targeting?hashId="+encodeURIComponent(t.hashId);case"getprofile":var n="";if(t.fields)if(t.fields.constructor===Array)for(var r=0;r<t.fields.length;r++)n+=0==r?"?":"&",n+="field="+encodeURIComponent(t.fields[r]);else n+="?field="+encodeURIComponent(t.fields);return"/profile/"+encodeURIComponent(t.profileId)+n;case"createprofile":case"updateprofile":return"/profile";case"addnewsletters":case"unsubscribenewsletters":case"getprofilenewsletters":return"/profile/"+encodeURIComponent(t.profileId)+"/newsletters";case"contestentry":return"/profile/contest";case"contestverify":return"/profile/contestverify";case"getcontestentry":return"/profile/contest/"+encodeURIComponent(t);case"newsletterstatus":return"/newsletters/status";case"logout":return"/profile/"+encodeURIComponent(t.profileId)+"/logout";case"sendoptoutlink":return"/sendoptoutlink";default:throw new Error("Invalid Action.")}}(e,t);!function(e,t,r,s,i){try{var a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MicrosoftXMLHTTP"),c=(new Date).getTime()/1e3;if(a.onreadystatechange=function(){4==this.readyState&&function(e,t){try{e=JSON.parse(e)}catch(e){}"function"==typeof t&&t(e)}(this.responseText,t)},s&&(s=function(e){try{return JSON.parse(e),e}catch(t){return JSON.stringify(e)}}(s)),a.open(r,e,!0),n.origin.match(window.location.host)||(a.withCredentials=!0),a.setRequestHeader("Accept","application/json; text/javascript; charset=utf-8"),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("X-APIKEY",n.apiKey),a.setRequestHeader("X-APPID",n.appId),a.setRequestHeader("X-HASH",function(e,t,n,r){return o()(n,e+t+r)}(s,r,n.apiKey,c)),a.setRequestHeader("X-MICROTIME",c),i)for(var u=0;u<i.length;u++){var d=i[u];d.name&&d.name.length&&d.value&&d.value.length&&a.setRequestHeader(d.name,d.value)}s?a.send(s):a.send()}catch(e){throw new Error(e)}}(a,r,i,t,s)}this.apiKey=function(){if(e.apiKey)return e.apiKey;throw new Error("mdp.apiConfig.apiKey required.")}(),this.appId=function(){if(e.appId)return e.appId;throw new Error("mdp.apiConfig.appId required.")}(),this.environment=function(){if(e.environment){if(t.hasOwnProperty(e.environment))return t[e.environment];throw new Error("Invalid mdp.apiConfig.environment.")}throw new Error("mdp.apiConfig.environment required.")}(),this.domain=function(){if(e.domain)return e.domain.toLowerCase();throw new Error("mdp.apiConfig.domain required.")}(),this.basePath="/restp/registration/v2",this.origin="allrecipes.com"===n.domain?"https://"+n.environment+"secure.mdp."+n.domain:"https://"+n.environment+"secure."+n.domain,this.addNewsletters=function(e,t,n){r("addnewsletters",e,t,n)},this.checkThirdPartyAuth=function(e,t,n){r("checkthirdpartyauth",e,t,n)},this.createProfile=function(e,t,n){r("createprofile",e,t,n)},this.getProfile=function(e,t,n){r("getprofile",e,t,n)},this.getProfileTargeting=function(e,t,n){r("getprofiletargeting",e,t,n)},this.isAlreadyAMember=function(e,t,n){r("isalreadyamember",e,t,n)},this.login=function(e,t,n){r("login",e,t,n)},this.lookupPostalCode=function(e,t,n){r("lookuppostalcode",e,t,n)},this.regStep1=function(e,t,n){r("regstep1",e,t,n)},this.regStep2=function(e,t,n){r("regstep2",e,t,n)},this.resetPassword=function(e,t,n){r("resetpassword",e,t,n)},this.sendPassword=function(e,t,n){r("sendpassword",e,t,n)},this.socialLogin=function(e,t,n){r("sociallogin",e,t,n)},this.subscribeNewsletters=function(e,t,n){r("subscribenewsletters",e,t,n)},this.unsubscribeNewsletters=function(e,t,n){r("unsubscribenewsletters",e,t,n)},this.updateProfile=function(e,t,n){r("updateprofile",e,t,n)},this.contestEntry=function(e,t,n){r("contestentry",e,t,n)},this.contestVerify=function(e,t,n){r("contestverify",e,t,n)},this.getContestEntry=function(e,t,n){r("getcontestentry",e,t,n)},this.newsletterStatus=function(e,t,n){r("newsletterstatus",e,t,n)},this.getProfileNewsletters=function(e,t,n){r("getprofilenewsletters",e,t,n)},this.logout=function(e){var t;r("logout",{profileId:("DYN_USER_ID",t=document.cookie.match("(^|;)\\s*DYN_USER_ID\\s*=\\s*([^;]+)"),t?decodeURIComponent(t.pop()):"")},e)},this.sendOptoutLink=function(e,t,n){r("sendoptoutlink",e,t,n)}}},"./src/mdp.init.js":(e,t,n)=>{"use strict";n.r(t);var r=n("./src/mdp.api.js"),o=window.mdp||{};void 0!==o.apiConfig&&(o.api=new r.default({apiKey:o.apiConfig.apiKey,appId:o.apiConfig.appId,domain:o.apiConfig.domain,environment:o.apiConfig.environment})),window.mdp=o}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n("./src/mdp.init.js")})()},5043:function(){!function(){var e,t="monetate_profile",n="mdp_restricted_pv_time",r="mdp_restricted_page_views",o=null;function s(e,t){var n=new XMLHttpRequest;n.withCredentials=!0;var r="/hermes/?keys=".concat(e,"&max-age=").concat(t,"&domains=all");n.open("GET",r,!0),n.send()}function i(){mdp&&"function"==typeof mdp.targetingCallback&&mdp.targetingCallback()}function a(e){e&&e.statusCode&&"0"===e.statusCode&&(mdp.monetateProfile.activeSubs=e.results.magazineSubscriptions,mdp.monetateProfile.lastVisit=e.results.lastVisitDate,mdp.monetateProfile.mdpMember=!0,mdp.monetateProfile.hashId=o,mdp.monetateProfile.timeSegment=e.results.parentsProfileType,mdp.monetateProfile.updatePrimaryChild=e.results.updatePrimaryChild,mdp.monetateProfile.newsletterIds=e.results.newsletterIds,mdp.monetateProfile.recentEnteredContestOwnerIds=e.results.recentEnteredContestOwnerIds,mdp.monetateProfile.isEligibleForAdditionalSweeps=e.results.isEligibleForAdditionalSweeps,e.results.memberships&&""!==e.results.memberships&&(mdp.monetateProfile.memberships=e.results.memberships),e.results.consentType&&""!==e.results.consentType&&(mdp.monetateProfile.consentType=e.results.consentType,"undefined"!==e.results.consentDate&&(mdp.monetateProfile.consentDate=e.results.consentDate)),u(t,JSON.stringify(mdp.monetateProfile),!1)),i()}function c(){try{return JSON.parse(p(t))}catch(n){return t,e=d(),document.cookie="".concat("monetate_profile","=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/; domain=").concat(e),null}var e}function u(e,t,n,r){var o,s="";r?s="expires=".concat(r,";"):n||((o=new Date).setHours(o.getHours()+1),s="expires=".concat(o.toUTCString(),";"));var i=d();document.cookie="".concat(e,"=").concat(encodeURIComponent(t),";").concat(s," path=/; domain=").concat(i)}function d(){var e="";if(!window.location.hostname.includes("localhost")){var t=window.location.hostname.split(".").reverse();e=".".concat(t[1],".").concat(t[0])}return e}function p(e){var t=document.cookie.match("(^|;)\\s*".concat(e,"\\s*=\\s*([^;]+)"));return t?decodeURIComponent(t.pop()):""}window.mdp=window.mdp||{},window.mdp.monetateProfile=window.mdp.monetateProfile||{},e=c(),o=function(){var e=p("mdpaccount");if(e)try{var t=JSON.parse(e);if(t.hashId)return t.hashId}catch(e){}return""}(),function(){var e=(window.mdp||{}).entitledOptions;if(e&&e.isRestrictedPage){var t=(new Date).getTime(),o=p(r)||0,i=Number(o)+1,a=p(n),c=parseInt(a)||t,d=new Date(c);d.setTime(d.getTime()+2592e6);var l=(d.getTime()-t)/1e3;a||(u(n,c,!1,d.toUTCString()),s(n,l)),u(r,i,!1,d.toUTCString()),s(r,l)}}(),function(){if(r=!1,"true"===function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]".concat(e,"=([^&#]*)")).exec(location.search);return null===t?null:decodeURIComponent(t[1].replace(/\+/g," "))}("refreshTargeting")?r=!0:e&&(!e||e.hashId&&e.hashId===o)||(r=!0),r)o?mdp&&mdp.api&&"function"==typeof mdp.api.getProfileTargeting?mdp.api.getProfileTargeting({hashId:o},a):i():(mdp.monetateProfile.mdpMember=!1,u(t,JSON.stringify(mdp.monetateProfile),!0),i());else{var n=c();n&&(mdp.monetateProfile=n),i()}var r}()}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n(87268),n(5043)}();
//# sourceMappingURL=targeting-deb6f7aa9e159a38bef6-hash.js.map